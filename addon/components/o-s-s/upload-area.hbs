<div class="oss-upload-area-container">
  {{#if this.selectedFile}}
    {{!-- This forces the re-render by creating a new array after editing a file. --}}
    {{#each (array this.selectedFile) as |selectedFile|}}
      <OSS::UploadItem
        @uploader={{@uploader}} @file={{selectedFile}}
        @rules={{@rules}} @scope={{this.scope}} @privacy={{this.privacy}}
        @onEdition={{this.triggerFileBrowser}} @onDeletion={{this.onFileDeletion}}
        @onUploadSuccess={{@onUploadSuccess}} />
    {{/each}}
  {{else}}
    <div class={{this.computedClass}}
         {{on "dragover" this._allowDropEvent}}
         {{on "dragenter" this._onDragEnter}}
         {{on "dragleave" this._onDragLeave}}
         {{on "drop" this._onDrop}}
         {{on "click" this.triggerFileBrowser}}
         ...attributes>
      <div class="fx-gap-px-12 fx-xalign-center {{if (eq this.size 'lg') 'fx-col' 'fx-row fx-1'}}">
        <div class="oss-upload-area__illustration">
          <img src={{this.illustration}} />
        </div>

        <div class="fx-col fx-gap-px-3 {{if (eq this.size 'lg') 'fx-xalign-center'}}">
          <div class="fx-row fx-xalign-center fx-gap-px-3">
            {{#if @disabled}}
              <span class="font-color-gray-500">
                {{t "oss-components.upload-area.drop_file.disabled"}}
              </span>
            {{else}}
              <span class="font-color-gray-900">
                {{t "oss-components.upload-area.drop_file.default"}}
              </span>

              <OSS::Link
                @label={{t "oss-components.upload-area.browse"}}
                class="margin-left-px-3"
                {{on "click" this.triggerFileBrowser}} />
            {{/if}}
          </div>

          {{#if @subtitle}}
            <span class="font-color-gray-500">
              {{@subtitle}}
            </span>
          {{/if}}
        </div>
      </div>
    </div>
  {{/if}}

  <input type="file" {{on "change" this.onFileSelected}} {{did-insert this.assignFileInput}} />
</div>
